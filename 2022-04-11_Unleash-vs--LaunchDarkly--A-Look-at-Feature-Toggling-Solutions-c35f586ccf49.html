<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Unleash vs. LaunchDarkly: A Look at Feature Toggling Solutions</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Unleash vs. LaunchDarkly: A Look at Feature Toggling Solutions</h1>
</header>
<section data-field="subtitle" class="p-summary">
Introduction to Unleash and LaunchDarkly to understand their capabilities
</section>
<section data-field="body" class="e-content">
<section name="bcd9" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="1aec" id="1aec" class="graf graf--h3 graf--leading graf--title">Unleash vs. LaunchDarkly: A Look at Feature Toggling Solutions</h3><h4 name="1ffb" id="1ffb" class="graf graf--h4 graf-after--h3 graf--subtitle">Introduction to Unleash and LaunchDarkly to understand their capabilities</h4><figure name="a65b" id="a65b" class="graf graf--figure graf-after--h4"><img class="graf-image" data-image-id="0*kWUD-NYxWO1v4ksv" data-width="1400" data-height="875" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/0*kWUD-NYxWO1v4ksv"><figcaption class="imageCaption">Photo by <a href="https://unsplash.com/@arthurbizkit?utm_source=medium&amp;utm_medium=referral" data-href="https://unsplash.com/@arthurbizkit?utm_source=medium&amp;utm_medium=referral" class="markup--anchor markup--figure-anchor" rel="noopener ugc nofollow noopener" target="_blank">Arthur Mazi</a> on <a href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" data-href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" class="markup--anchor markup--figure-anchor" rel="noopener ugc nofollow noopener" target="_blank">Unsplash</a></figcaption></figure><p name="5b11" id="5b11" class="graf graf--p graf-after--figure">In the <a href="https://betterprogramming.pub/feature-toggle-introduction-68d58f5c709" data-href="https://betterprogramming.pub/feature-toggle-introduction-68d58f5c709" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">previous article</a>, we introduced the timing and usage scenarios of feature toggles. In this article, we will pick two of the more well-known solutions, <a href="https://www.getunleash.io/" data-href="https://www.getunleash.io/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Unleash</a> and <a href="https://launchdarkly.com/" data-href="https://launchdarkly.com/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">LaunchDarkly</a>, to provide a basic introduction and my experience.</p><p name="abba" id="abba" class="graf graf--p graf-after--p">Before I begin, let me briefly describe the essential requirements for a feature toggle solution must be.</p><ol class="postList"><li name="cfe3" id="cfe3" class="graf graf--li graf-after--p">Easy-to-use website.</li><li name="991f" id="991f" class="graf graf--li graf-after--li">Easy to integrate SDK.</li><li name="d2c2" id="d2c2" class="graf graf--li graf-after--li">Ability to implement 4 types of feature toggles.</li></ol><ul class="postList"><li name="a3dd" id="a3dd" class="graf graf--li graf-after--li">Release toggle: You can percentage rollout to achieve canary deployment.</li><li name="1374" id="1374" class="graf graf--li graf-after--li">Ops toggle: Similar to the release toggle, the percentage adjustment function is also required.</li><li name="3195" id="3195" class="graf graf--li graf-after--li">Experiment toggle: To be able to carry additional information within the toggle, not just true or false.</li><li name="2dc9" id="2dc9" class="graf graf--li graf-after--li">Permission toggle: When making toggle judgments, it is important to be able to use additional dynamic parameters such as user id.</li></ul><p name="a4c1" id="a4c1" class="graf graf--p graf-after--li">Both Unleash and LaunchDarkly can satisfy these three criteria, and although there are some differences in capability, the basic operation of the feature toggle is not a problem at all.</p><h3 name="8cb2" id="8cb2" class="graf graf--h3 graf-after--p"><a href="https://www.getunleash.io/" data-href="https://www.getunleash.io/" class="markup--anchor markup--h3-anchor" rel="noopener" target="_blank">Unleash</a></h3><p name="42d2" id="42d2" class="graf graf--p graf-after--h3">Unleash is a mature solution for feature toggle, providing not only an online paid solution but also a self-hosted open-source solution. Therefore, I believe it is very suitable for internal experiments in organizations, after all, it is free. If you have good results with feature toggles, then you can consider upgrading to Unleash’s enterprise solution or switching to another solution.</p><p name="efc7" id="efc7" class="graf graf--p graf-after--p">Unleash’s open-source solution is very simple in architecture, requiring only an API and a PostgreSQL. There is no cache in the system architecture, so you can understand that every time you get a feature toggle it is run directly on the database, but if you only apply Unleash to the backend environment and only use the server-side SDK, then this amount of usage is indeed not a big deal.</p><p name="75d3" id="75d3" class="graf graf--p graf-after--p">On the other hand, the SDK provided by Unleash uses a polling mechanism, asking for results every 15 seconds and storing the results in each instance’s memory. This also effectively reduces the frequency of actually touching the database, but at the price of taking up to 15 seconds for changes to take effect. From my point of view, 15 seconds is not an intolerable period, so it is completely acceptable.</p><p name="a1a5" id="a1a5" class="graf graf--p graf-after--p">It is also very simple to use, first initialize the Unleash instance, and then it will work properly. All the following examples use Node.js as a demonstration.</p><pre name="506e" id="506e" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">const unleash = require(&#39;unleash-client&#39;);</code></pre><pre name="681d" id="681d" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">unleash.initialize({<br>  url: &#39;https://YOUR-API-URL&#39;,<br>  appName: &#39;my-node-name&#39;,<br>  environment: process.env.APP_ENV,<br>  customHeaders: { Authorization: &#39;SOME-SECRET&#39; },<br>});</code></pre><p name="fb20" id="fb20" class="graf graf--p graf-after--pre">The initialization process needs to set <code class="markup--code markup--p-code">environment</code>, but in an open-source solution, this parameter is irrelevant because the open-source solution only provides one set of environments. Ideally, it should be possible to generate a corresponding set of settings with various online environments, eg: staging and production.</p><p name="04c2" id="04c2" class="graf graf--p graf-after--p">In an open-source solution, the only way to distinguish between environments is by using the name of the toggle as follows.</p><pre name="1a1e" id="1a1e" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">const stgToggle = unleash.isEnabled(&#39;featureA-stg&#39;);<br>const prodToggle = unleash.isEnabled(&#39;featureA-prod&#39;);</code></pre><p name="d793" id="d793" class="graf graf--p graf-after--pre">This can be quite useful when the number of toggles is small, but when the number of toggles becomes large, it can be challenging to manage.</p><p name="b51b" id="b51b" class="graf graf--p graf-after--p">How to use Unleash to make an experiment toggle? We can do this by using Unleash’s <code class="markup--code markup--p-code">unleash.getVariant</code>, which is additional information that can be attached to the feature toggle and is easily configured on the Unleash web page.</p><pre name="3a3e" id="3a3e" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">const variant = unleash.getVariant(&#39;featureA&#39;);</code></pre><p name="7285" id="7285" class="graf graf--p graf-after--pre">In addition, it is very simple to complete the permission toggle, just bring in the context when <code class="markup--code markup--p-code">isEnabled</code>.</p><pre name="60ae" id="60ae" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">const context = {<br>  userId: &#39;123&#39;,<br>  sessionId: &#39;123123-123-123&#39;,<br>  remoteAddress: &#39;127.0.0.1&#39;,<br>};</code></pre><pre name="008e" id="008e" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">const enabled = isEnabled(&#39;featureA&#39;, context);</code></pre><p name="5a3c" id="5a3c" class="graf graf--p graf-after--pre">Furthermore, Unleash offers multiple different deployment strategies.</p><ol class="postList"><li name="373d" id="373d" class="graf graf--li graf-after--p">Standard: Every time, the result will be the same.</li><li name="514d" id="514d" class="graf graf--li graf-after--li">Gradual rollout: It can be set to a specific ratio, so that the result of each time the toggle is asked is determined by chance.</li><li name="64e4" id="64e4" class="graf graf--li graf-after--li">UserIDs: Use <code class="markup--code markup--li-code">userId</code> in the context to enable targets that satisfy a specific <code class="markup--code markup--li-code">userId</code>.</li><li name="4f28" id="4f28" class="graf graf--li graf-after--li">IPs: Use <code class="markup--code markup--li-code">sessionId</code> in the context to enable targets that satisfy a specific <code class="markup--code markup--li-code">sessionId</code>.</li><li name="02d0" id="02d0" class="graf graf--li graf-after--li">Hosts: Use <code class="markup--code markup--li-code">remoteAddress</code> in the context to enable targets that satisfy a specific <code class="markup--code markup--li-code">remoteAddress</code>.</li></ol><p name="f4d8" id="f4d8" class="graf graf--p graf-after--li">Thus far in the introduction, we should be able to satisfy the essential use cases of feature toggles with Unleash. However, the functionality of Unleash is very simple in terms of toggling, and there are several challenges that are not easily overcome in the use of Unleash.</p><ol class="postList"><li name="7319" id="7319" class="graf graf--li graf-after--p">There are only three special contexts that can be used for the deployment strategy, and there is only a judgment of equal or not, and there is no operator provided for either greater than or less than. If you need to implement <a href="https://github.com/Unleash/unleash-client-node#custom-strategies" data-href="https://github.com/Unleash/unleash-client-node#custom-strategies" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">custom strategy</a>, you have to inherit the base class of SDK and implement it by yourself.</li><li name="63a2" id="63a2" class="graf graf--li graf-after--li">Unleash supports the use of multiple policies on a single toggle, but the relationship between the policies is OR. For example, it is not possible to enable a toggle to a specific user in a specific location because the <code class="markup--code markup--li-code">userId</code> and <code class="markup--code markup--li-code">sessionId</code> cannot be AND.</li><li name="b92a" id="b92a" class="graf graf--li graf-after--li">When choosing a gradual rollout, it can only set one specific rule. For instance, you cannot group by <code class="markup--code markup--li-code">userId</code> and have 40% of the users enabled, because you cannot mix multiple conditions. Otherwise, you can only use totally random distribution.</li></ol><h3 name="a19d" id="a19d" class="graf graf--h3 graf-after--li"><a href="https://launchdarkly.com/" data-href="https://launchdarkly.com/" class="markup--anchor markup--h3-anchor" rel="noopener" target="_blank">LaunchDarkly</a></h3><p name="4267" id="4267" class="graf graf--p graf-after--h3">LaunchDarkly is another common solution. It does not provide a free open source solution, in other words, it is only available as a paid commercial solution.</p><p name="197c" id="197c" class="graf graf--p graf-after--p">It is very similar to Unleash in use, and requires initialization at first.</p><pre name="c78b" id="c78b" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">const ld = require(&#39;launchdarkly-node-server-sdk&#39;);</code></pre><pre name="e87c" id="e87c" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">const client = ld.init(&#39;YOUR_SDK_KEY&#39;);</code></pre><p name="2a80" id="2a80" class="graf graf--p graf-after--pre">Unlike Unleash, it does not need to set the environment parameters in the initialization, because the key has already defined in which environment. The next step is to pick up the corresponding feature toggles.</p><pre name="677c" id="677c" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">const user = {<br>  firstName: &#39;Bob&#39;,<br>  lastName: &#39;Loblaw&#39;,<br>  key: &#39;example-user-key&#39;,<br>};<br>const value = await client.variation(&#39;YOUR_FLAG_KEY&#39;, user, false);</code></pre><p name="7d45" id="7d45" class="graf graf--p graf-after--pre">Two things are worth noting here: LaunchDarkly’s user is equivalent to Unleash’s context, but LaunchDarkly’s user is more flexible; Unleash’s context is only available for those specific attributes that are predefined, but LaunchDarkly can use any attribute and only needs to be configure it on the admin page.</p><p name="696a" id="696a" class="graf graf--p graf-after--p">Another point is that Unleash splits the toggle and extra information into two methods, <code class="markup--code markup--p-code">isEnabled</code> and <code class="markup--code markup--p-code">getVariant</code>, but in the LaunchDarkly world, the toggle and extra information are one and the same. That is to say, the <code class="markup--code markup--p-code">value</code> you get through <code class="markup--code markup--p-code">variation</code> already contains the extra information. The <code class="markup--code markup--p-code">value</code> can be a boolean, an integer, a string, or JSON, depending on the setting.</p><p name="93c3" id="93c3" class="graf graf--p graf-after--p">As for the percentage rollout provided by Unleash, LaunchDarkly also provides it, and it is even more powerful. Not only setting a ratio, LaunchDarkly is a composite attribute toggle, so more than two possibilities can exist at the same time, so you can directly adjust the percentage of each possibility in the percentage setting.</p><p name="6171" id="6171" class="graf graf--p graf-after--p">In addition, LanuchDarkly provides a very powerful rules engine. Unlike Unleash’s monotonous deployment strategy, LauchDarkly can freely set rules for AND, OR, IN, and other matching operations. Moreover, during the percentage rollout, it can also mix percentages and various rules to achieve a very strong conditional matching.</p><p name="757e" id="757e" class="graf graf--p graf-after--p">Due to LaunchDarkly’s entirely freestyle <code class="markup--code markup--p-code">user</code> and powerful rule engine, basically, LaunchDarkly can implement any application scenario you want.</p><h3 name="2c55" id="2c55" class="graf graf--h3 graf-after--p">Conclusion</h3><p name="cdb5" id="cdb5" class="graf graf--p graf-after--h3">Currently, the toggle update relies on a polling mechanism, so it takes a while for the settings on the website to really reflect on the system behavior. The solution is also proposed in the new version of LaunchDarkly, which provides a streaming mechanism to get instant feedback. However, for the system, it must also consider whether the network environment can tolerate so many persistent connections. This is beyond the scope of this article, so I will not explain it further.</p><p name="45ea" id="45ea" class="graf graf--p graf-after--p">In fact, the feature toggle solution provides much more than just the toggle itself, how to do access control, audit log, and SSO and other additional features are equally important. However, different payment solutions provide different payment functions, and those functions have actually been detached from the demands of feature toggles, so this article does not introduce those additional functions of Unleash and LaunchDarkly.</p><p name="436d" id="436d" class="graf graf--p graf-after--p">In terms of feature toggling itself, Unleash provides a basic experimental environment in which you can build a feature toggling system in your organization with very little overhead. Unleash also provides all the fundamental features required for feature toggling. For an organization that is just starting up, Unleash provides a great experimental vehicle that can be used as a warm start.</p><p name="f580" id="f580" class="graf graf--p graf-after--p">Once the feature toggle is integrated into an organization’s development process, LaunchDarkly is a good choice for organizations that need to customize the use of the toggle for more situations. LaunchDarkly provides a simple and intuitive experience for setting and matching customization rules.</p><p name="0870" id="0870" class="graf graf--p graf-after--p graf--trailing">From my experience, it is sufficient for small organizations to use Unleash, and the self-hosted solution is simple but enough for most use cases. As long as there are no complex rules to match, there is no need to spend money on other commercial solutions, but if you are having more and more management needs with open source Unleash, then it is necessary to consider commercial solutions and evaluate them carefully. In my opinion, LaunchDarkly is also good.</p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@lazypro" class="p-author h-card">Chunting Wu</a> on <a href="https://medium.com/p/c35f586ccf49"><time class="dt-published" datetime="2022-04-11T01:13:09.097Z">April 11, 2022</time></a>.</p><p><a href="https://medium.com/@lazypro/unleash-vs-launchdarkly-c35f586ccf49" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on October 21, 2024.</p></footer></article></body></html>