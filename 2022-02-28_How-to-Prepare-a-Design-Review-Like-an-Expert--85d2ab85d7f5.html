<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>How to Prepare a Design Review Like an Expert?</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">How to Prepare a Design Review Like an Expert?</h1>
</header>
<section data-field="subtitle" class="p-summary">
Know the three main items of a good design review
</section>
<section data-field="body" class="e-content">
<section name="3ecb" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="0c75" id="0c75" class="graf graf--h3 graf--leading graf--title">How to Prepare a Design Review Like an Expert?</h3><h4 name="c068" id="c068" class="graf graf--h4 graf-after--h3 graf--subtitle">Know the three main items of a good design review</h4><figure name="65a0" id="65a0" class="graf graf--figure graf-after--h4"><img class="graf-image" data-image-id="0*7Ryt_IvNlgSGjBFg.png" data-width="1470" data-height="980" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/0*7Ryt_IvNlgSGjBFg.png"><figcaption class="imageCaption">Photo by <a href="https://unsplash.com/@ffstop" data-href="https://unsplash.com/@ffstop" class="markup--anchor markup--figure-anchor" rel="noopener" target="_blank">Fotis Fotopoulos</a> on <a href="https://unsplash.com/photos/DuHKoV44prg" data-href="https://unsplash.com/photos/DuHKoV44prg" class="markup--anchor markup--figure-anchor" rel="noopener" target="_blank">Unsplash</a></figcaption></figure><p name="1b2f" id="1b2f" class="graf graf--p graf-after--figure">This article will take backend development as an example, but the same concepts can be applied to various fields.</p><p name="6b6d" id="6b6d" class="graf graf--p graf-after--p">Before explaining how to prepare a good design review, let’s first introduce what a design review should have. As an architect, I’m going to tell you what I want to see.</p><ol class="postList"><li name="f329" id="f329" class="graf graf--li graf-after--p"><a href="https://c4model.com/" data-href="https://c4model.com/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">C4 model</a></li><li name="bf2d" id="bf2d" class="graf graf--li graf-after--li"><a href="https://betterprogramming.pub/how-to-design-in-clean-architecture-way-part-2-8524e76f2720" data-href="https://betterprogramming.pub/how-to-design-in-clean-architecture-way-part-2-8524e76f2720" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">User stories and use cases</a></li><li name="6831" id="6831" class="graf graf--li graf-after--li">Design decisions</li></ol><p name="cba3" id="cba3" class="graf graf--p graf-after--li">As an architect, what I want to see the most is the above three items, not code flow nor database schema even nor RESTful API spec.</p><p name="f311" id="f311" class="graf graf--p graf-after--p">And the most important of them is the C4 model.</p><h3 name="e51c" id="e51c" class="graf graf--h3 graf-after--p">C4 Model</h3><p name="4878" id="4878" class="graf graf--p graf-after--h3">Why is the C4 model so important? Before explaining, let’s briefly introduce the C4 model.</p><p name="4b1a" id="4b1a" class="graf graf--p graf-after--p">The C4 model contains four <strong class="markup--strong markup--p-strong">C</strong>s.</p><ol class="postList"><li name="b5aa" id="b5aa" class="graf graf--li graf-after--p">Context: This is an overview of the system that describes how users interact with whole system. It will be displayed from the user’s view, so the details of the system will not be shown.</li><li name="4537" id="4537" class="graf graf--li graf-after--li">Container: Containers here do not refer to container virtualization like docker. A container in the C4 model refers to an entity that can be deployed separately, such as an API server, database, message queue, etc.</li><li name="ae63" id="ae63" class="graf graf--li graf-after--li">Component: Components are the modules under a container. It contains the interaction between modules or the association between domains in the domain-driven design.</li><li name="4e68" id="4e68" class="graf graf--li graf-after--li">Code: The last is the source code under the component. But when describing the architecture, we will not show the details of the code, it is enough to be able to describe the relationship between objects.</li></ol><p name="661e" id="661e" class="graf graf--p graf-after--li">From above description, the purpose of the C4 model is to explain interactions and relationships within the system. From the largest unit, user interaction, to the interaction between objects and objects, these interactions help architects get a complete picture of the entire system and know if such interactions are appropriate.</p><p name="ac1a" id="ac1a" class="graf graf--p graf-after--p">For example, a small application might look like this from the container’s perspective.</p><figure name="2464" id="2464" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*PEkVngC60vSac2xHYD-8zA.png" data-width="630" data-height="548" src="https://cdn-images-1.medium.com/max/800/1*PEkVngC60vSac2xHYD-8zA.png"></figure><p name="e287" id="e287" class="graf graf--p graf-after--figure">Some developers may think that such a diagram is too simple, however, such a simple diagram is enough for architects to discover possible problems.</p><ol class="postList"><li name="20ea" id="20ea" class="graf graf--li graf-after--p">Scalability: When the number of users increases, is there any way for the API to handle it? Even if API can satisfy the throughput, what about the database?</li><li name="ec5c" id="ec5c" class="graf graf--li graf-after--li">Reliability: When the API crashes, is there a risk of a SPOF (single point of failure)?</li><li name="2dab" id="2dab" class="graf graf--li graf-after--li">Efficiency: When the amount of data increases and the response time of the database becomes slower, how will users feel?</li></ol><p name="6b9f" id="6b9f" class="graf graf--p graf-after--li">Such non-functional requirements can be analyzed from a relationship diagram. The above are just a few common non-functional requirements, see the full list in <a href="https://en.wikipedia.org/wiki/Non-functional_requirement" data-href="https://en.wikipedia.org/wiki/Non-functional_requirement" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">wiki</a>.</p><p name="dad1" id="dad1" class="graf graf--p graf-after--p">Then, take the perspective of components as an example. A simple social media might be as follows.</p><figure name="bab6" id="bab6" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*AVAlLR9vrguTtn3Ni5aaZA.png" data-width="976" data-height="500" src="https://cdn-images-1.medium.com/max/800/1*AVAlLR9vrguTtn3Ni5aaZA.png"></figure><p name="2404" id="2404" class="graf graf--p graf-after--figure">This is also a very intuitive diagram. It looks like it just lists the various modules. Is such a diagram really worth it?</p><p name="9600" id="9600" class="graf graf--p graf-after--p">Yes. Absolutely.</p><p name="638a" id="638a" class="graf graf--p graf-after--p">When we assess the degree of coupling of an architecture, we usually use <code class="markup--code markup--p-code">instability</code> as an indicator.</p><figure name="a7b6" id="a7b6" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*5z0QY1a4vuQL0fqUSBFtVQ.png" data-width="204" data-height="92" src="https://cdn-images-1.medium.com/max/800/1*5z0QY1a4vuQL0fqUSBFtVQ.png"></figure><p name="54f1" id="54f1" class="graf graf--p graf-after--figure"><code class="markup--code markup--p-code">Ce</code> refers to the number of efferent couplings and <code class="markup--code markup--p-code">Ca</code> refers to the number of afferent couplings. The closer to <code class="markup--code markup--p-code">0</code> the more stable the module is, and vice versa. Regarding coupling, <a href="https://betterprogramming.pub/temporal-coupling-in-code-e74899f7a48f" data-href="https://betterprogramming.pub/temporal-coupling-in-code-e74899f7a48f" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">I have an article</a> that specifically describes the problem of coupling.</p><p name="8806" id="8806" class="graf graf--p graf-after--p">For this social media, its <code class="markup--code markup--p-code">instability</code> of Recommendation module is <code class="markup--code markup--p-code">0.8</code>. This means that the recommendation is unstable. As long as any dependency module is modified, no matter the interface or behavior, it will directly or indirectly affect the recommendation system.</p><p name="60a0" id="60a0" class="graf graf--p graf-after--p">The architect analyzes the entire architecture through such a simple diagram. Based on different fields and different architectures, there will be completely different decoupling methods. Without a complete view of the existing architecture, the architect can only provide some innocuous comments.</p><h3 name="1bc0" id="1bc0" class="graf graf--h3 graf-after--p">User stories and use cases</h3><p name="5b4f" id="5b4f" class="graf graf--p graf-after--h3">How to write good user stories and use cases I have covered in <a href="https://betterprogramming.pub/how-to-design-in-clean-architecture-way-part-2-8524e76f2720" data-href="https://betterprogramming.pub/how-to-design-in-clean-architecture-way-part-2-8524e76f2720" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">previous article</a>.</p><p name="6c90" id="6c90" class="graf graf--p graf-after--p">In this section I just echo the C4 model above. In fact, the user story also corresponds to the context in the C4 model. To have a good story, there is a way to draw the correct context.</p><h3 name="55cc" id="55cc" class="graf graf--h3 graf-after--p">Design decisions</h3><p name="a703" id="a703" class="graf graf--p graf-after--h3">Design decisions are at the heart of the entire design review. The whole design review is about examining whether each design decision is the right one. The C4 model, user stories and use cases mentioned earlier are only meant to provide background information for the whole review, in order to understand the meaning and risks behind each decision.</p><p name="b5e6" id="b5e6" class="graf graf--p graf-after--p">But what is the design decision?</p><p name="e30f" id="e30f" class="graf graf--p graf-after--p">It feels like a simple word, but in practice it is hard to feel it. So I offer a simple formula:</p><blockquote name="cf80" id="cf80" class="graf graf--blockquote graf-after--p"><em class="markup--em markup--blockquote-em">Why do </em>A<em class="markup--em markup--blockquote-em"> (instead of </em>B<em class="markup--em markup--blockquote-em">)?</em></blockquote><p name="9941" id="9941" class="graf graf--p graf-after--blockquote">For instance,</p><ol class="postList"><li name="dbaa" id="dbaa" class="graf graf--li graf-after--p">Why use MySQL instead of MongoDB?</li><li name="d4d4" id="d4d4" class="graf graf--li graf-after--li">Why use cache? (instead of accessing the database directly)</li><li name="0343" id="0343" class="graf graf--li graf-after--li">Why use the synchronous restful API instead of the asynchronous CQRS?</li></ol><p name="d5f9" id="d5f9" class="graf graf--p graf-after--li">The questions mentioned above are a bit broad, so let’s continue to narrow them down.</p><ol class="postList"><li name="263e" id="263e" class="graf graf--li graf-after--p">Why do we want the recommendation system to use synchronous calls to get data from the post system?</li><li name="8d78" id="8d78" class="graf graf--li graf-after--li">Why is this function split into two sub-functions?</li><li name="c0e5" id="c0e5" class="graf graf--li graf-after--li">Why is this line of source code written like this?</li></ol><p name="c76c" id="c76c" class="graf graf--p graf-after--li">Have you noticed? It’s all design decisions, from system orientation to the reason for each line of code, except that in a design review you may not actually be asked what the reason for each line is. Thus, what kind of decisions should be brought up for discussion?</p><p name="4817" id="4817" class="graf graf--p graf-after--p">My opinion is that the first three <strong class="markup--strong markup--p-strong">C</strong>’s of the C4 model are worthy targets for discussion. By writing down the C4 model and listing the purpose and reason for each line and block, architects will be able to identify potential problems and hidden risks among the many functional and non-functional requirements.</p><p name="96be" id="96be" class="graf graf--p graf-after--p">As for the last <strong class="markup--strong markup--p-strong">C</strong>, code, let’s leave it to the developers to find out during the code review.</p><h3 name="33f0" id="33f0" class="graf graf--h3 graf-after--p">Conclusion</h3><p name="db22" id="db22" class="graf graf--p graf-after--h3">This article explains the three main items of a good design review. The C4 model gives the architect a quicker overview of the system; then the user stories and use cases that the feature will address so that the architect understands what the functional requirements are; and finally the developers’ design decisions so that the architect knows the trade-offs behind each decision.</p><p name="1a29" id="1a29" class="graf graf--p graf-after--p">In this way, everyone is on the same page. The architect can make his recommendations and point out the risks behind the system, and the developers can understand the direction of the system’s evolution and the problems that need to be solved.</p><p name="f265" id="f265" class="graf graf--p graf-after--p graf--trailing">It’s important to remember to provide enough information so that the architect can make the right recommendations, otherwise you’ll just get hot air.</p></div></div></section><section name="e3db" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="d107" id="d107" class="graf graf--p graf--leading">In my previous articles, I have actually explained the different design decisions, hoping that the analysis will make you aware of where decisions need to be made and how they should be made.</p><ul class="postList"><li name="e859" id="e859" class="graf graf--li graf-after--p">Why do we need to define a repo? <a href="https://medium.com/interviewnoodle/whats-difference-between-unit-test-and-integration-test-aae6ef13220" data-href="https://medium.com/interviewnoodle/whats-difference-between-unit-test-and-integration-test-aae6ef13220" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Dependency Injection</a></li><li name="6317" id="6317" class="graf graf--li graf-after--li">Why do we need layers? <a href="https://lazypro.medium.com/layered-architecture-clarification-e55b69d60e98" data-href="https://lazypro.medium.com/layered-architecture-clarification-e55b69d60e98" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Layered Architecture</a></li><li name="edc8" id="edc8" class="graf graf--li graf-after--li">How to evolve a system? <a href="https://medium.com/interviewnoodle/shift-from-monolith-to-cqrs-a34bab75617e" data-href="https://medium.com/interviewnoodle/shift-from-monolith-to-cqrs-a34bab75617e" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Shift from Monolith to CQRS</a></li><li name="f514" id="f514" class="graf graf--li graf-after--li graf--trailing">How to decouple? <a href="https://betterprogramming.pub/temporal-coupling-in-code-e74899f7a48f" data-href="https://betterprogramming.pub/temporal-coupling-in-code-e74899f7a48f" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Event-driven architecture</a></li></ul></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@lazypro" class="p-author h-card">Chunting Wu</a> on <a href="https://medium.com/p/85d2ab85d7f5"><time class="dt-published" datetime="2022-02-28T08:28:06.045Z">February 28, 2022</time></a>.</p><p><a href="https://medium.com/@lazypro/how-to-prepare-a-design-review-like-an-expert-85d2ab85d7f5" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on October 21, 2024.</p></footer></article></body></html>