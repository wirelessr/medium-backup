<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>The Infrastructure Stack for Real-Time Data Analysis</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">The Infrastructure Stack for Real-Time Data Analysis</h1>
</header>
<section data-field="subtitle" class="p-summary">
A look at the popular options available
</section>
<section data-field="body" class="e-content">
<section name="c7a0" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="b9ba" id="b9ba" class="graf graf--h3 graf--leading graf--title">The Infrastructure Stack for Real-Time Data Analysis</h3><h4 name="e6c6" id="e6c6" class="graf graf--h4 graf-after--h3 graf--subtitle">A look at the popular options available</h4><figure name="a549" id="a549" class="graf graf--figure graf-after--h4"><img class="graf-image" data-image-id="0*OR8t-ZiGcCm7-DPH" data-width="1000" data-height="667" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/0*OR8t-ZiGcCm7-DPH"><figcaption class="imageCaption">Photo by <a href="https://unsplash.com/@amandagraphc" data-href="https://unsplash.com/@amandagraphc" class="markup--anchor markup--figure-anchor" rel="noopener" target="_blank">Amanda Jones</a> on <a href="https://unsplash.com/photos/feLC4ZCxGqk" data-href="https://unsplash.com/photos/feLC4ZCxGqk" class="markup--anchor markup--figure-anchor" rel="noopener" target="_blank">Unsplash</a></figcaption></figure><p name="798e" id="798e" class="graf graf--p graf-after--figure">Previously, we introduced the <a href="https://betterprogramming.pub/evolutionary-data-infrastructure-4ddce2ec8a7e" data-href="https://betterprogramming.pub/evolutionary-data-infrastructure-4ddce2ec8a7e" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">evolution of data infrastructure</a>, where we evolved the original data monolith step by step into an architecture that can support both real time analysis and various data governance.</p><p name="9cd2" id="9cd2" class="graf graf--p graf-after--p">However, in that article, we didn’t cover what technical selections were available but only a high-level view of the architecture evolution process.</p><p name="bc96" id="bc96" class="graf graf--p graf-after--p">In this article, we will focus on the stack of real-time analysis and list some hot or gradually popular options.</p><h3 name="d99e" id="d99e" class="graf graf--h3 graf-after--p">Real-Time Infra</h3><p name="43b8" id="43b8" class="graf graf--p graf-after--h3">Before starting, let’s briefly introduce the whole architecture of real-time analysis.</p><figure name="0615" id="0615" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*40ZENKJxciSlfoCmma66TA.png" data-width="1178" data-height="284" src="https://cdn-images-1.medium.com/max/800/1*40ZENKJxciSlfoCmma66TA.png"></figure><p name="f383" id="f383" class="graf graf--p graf-after--figure">As we mentioned before, the core of the entire real-time infrastructure is streaming.</p><p name="1cd6" id="1cd6" class="graf graf--p graf-after--p">In order to quickly process all events from event producers, streaming plays an important role, and within streaming, there are stream platforms and stream processors. Stream platform is the broker of streaming, which is used to store and distribute streams to processors. And the processor will send the stream back to the platform after processing the stream.</p><blockquote name="5162" id="5162" class="graf graf--blockquote graf-after--p"><em class="markup--em markup--blockquote-em">Why don’t processors deliver the streams directly backwards?</em></blockquote><p name="9944" id="9944" class="graf graf--p graf-after--blockquote">Because the stream may go through more than one processor. To complete a full use case, the stream may go through many processors, each of them focusing on what they are intended to do. This is the same concept as a data pipeline.</p><p name="0cc3" id="0cc3" class="graf graf--p graf-after--p">When the streaming is processed, it is persisted and is available for users as needed. Therefore, the serving layer must be a data store with high throughput and provide a variety of complex queries. For this requirement, traditional RDBMS cannot meet the throughput requirements, so the serving layer is usually not a relational database.</p><p name="da39" id="da39" class="graf graf--p graf-after--p">The final front is for presenting the data to the end-user, which can be tables, diagrams, or even a complete report.</p><h3 name="efc7" id="efc7" class="graf graf--h3 graf-after--p">Event Producer</h3><p name="69f6" id="69f6" class="graf graf--p graf-after--h3">We already know that event producer are responsible for generating various “events”, but what kinds of events exactly are there?</p><figure name="3593" id="3593" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*iMhg-dW7SAXHR57z-9GenQ.png" data-width="1056" data-height="618" src="https://cdn-images-1.medium.com/max/800/1*iMhg-dW7SAXHR57z-9GenQ.png"></figure><p name="7a7d" id="7a7d" class="graf graf--p graf-after--figure">There are three types.</p><ul class="postList"><li name="a21d" id="a21d" class="graf graf--li graf-after--p">Existing OLTP database</li><li name="8116" id="8116" class="graf graf--li graf-after--li">Event tracker</li><li name="97b6" id="97b6" class="graf graf--li graf-after--li">Language SDK</li></ul><h4 name="1c20" id="1c20" class="graf graf--h4 graf-after--li"><strong class="markup--strong markup--h4-strong"><em class="markup--em markup--h4-em">Existing OLTP database</em></strong></h4><p name="5b6f" id="5b6f" class="graf graf--p graf-after--h4">Any system will have a database, whether it is a relational database or a NoSQL database, and as long as the application has storage requirements, it will use the database that suits its needs.</p><p name="bdbe" id="bdbe" class="graf graf--p graf-after--p">To capture data changes from these databases and deliver them to the streaming platform, we often use <a href="https://debezium.io/" data-href="https://debezium.io/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Debezium</a>.</p><h4 name="9d29" id="9d29" class="graf graf--h4 graf-after--p"><strong class="markup--strong markup--h4-strong"><em class="markup--em markup--h4-em">Event tracker</em></strong></h4><p name="e7f9" id="e7f9" class="graf graf--p graf-after--h4">When a user operates a system, whether it is a web frontend or a mobile application, we always want to capture those events for subsequent analysis of user behavior.</p><p name="8017" id="8017" class="graf graf--p graf-after--p">We want the trackers to be able to digest the rapidly generated events for us, but we also want them to have some customization, such as enriching the events. Therefore, plug-ins and customization will be a priority when selecting a tracker.</p><p name="3319" id="3319" class="graf graf--p graf-after--p">Common options are listed below.</p><ul class="postList"><li name="2887" id="2887" class="graf graf--li graf-after--p"><a href="https://segment.com/" data-href="https://segment.com/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">TWILIO segment</a></li><li name="6cdc" id="6cdc" class="graf graf--li graf-after--li"><a href="https://snowplow.io/" data-href="https://snowplow.io/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">SNOWPLOW</a></li></ul><p name="bec1" id="bec1" class="graf graf--p graf-after--li"><code class="markup--code markup--p-code">SNOWPLOW</code> provides an open source version, while <code class="markup--code markup--p-code">segment</code> does not.</p><h4 name="7fdc" id="7fdc" class="graf graf--h4 graf-after--p"><strong class="markup--strong markup--h4-strong"><em class="markup--em markup--h4-em">Language SDK</em></strong></h4><p name="4f93" id="4f93" class="graf graf--p graf-after--h4">The last is the events generated by various application backends, which are delivered through the SDK provided by the stream platform. The technical selection here will depend on the stream platform and the programming language in use.</p><h3 name="0776" id="0776" class="graf graf--h3 graf-after--p">Stream Platform</h3><p name="9b08" id="9b08" class="graf graf--p graf-after--h3">The concept of stream platform is very simple, it is a broker with high throughput.</p><p name="1670" id="1670" class="graf graf--p graf-after--p">The most common option is <a href="https://kafka.apache.org/" data-href="https://kafka.apache.org/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Kafka</a>, but there are also various open-source software and managed services. By the way, the following order does not represent the recommendation order.</p><h4 name="1087" id="1087" class="graf graf--h4 graf-after--p"><strong class="markup--strong markup--h4-strong"><em class="markup--em markup--h4-em">Open Source</em></strong></h4><ul class="postList"><li name="1e91" id="1e91" class="graf graf--li graf-after--h4"><a href="https://redpanda.com/" data-href="https://redpanda.com/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Redpanda</a></li><li name="6e46" id="6e46" class="graf graf--li graf-after--li"><a href="https://pulsar.apache.org/" data-href="https://pulsar.apache.org/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Apache Pulsar</a></li></ul><h4 name="f14e" id="f14e" class="graf graf--h4 graf-after--li"><strong class="markup--strong markup--h4-strong"><em class="markup--em markup--h4-em">Managed Service</em></strong></h4><ul class="postList"><li name="ecb8" id="ecb8" class="graf graf--li graf-after--h4">AWS Kinesis</li><li name="daee" id="daee" class="graf graf--li graf-after--li">GCP Pub/Sub</li><li name="338e" id="338e" class="graf graf--li graf-after--li">Azure Event Hub</li><li name="663f" id="663f" class="graf graf--li graf-after--li"><a href="https://www.confluent.io/" data-href="https://www.confluent.io/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Confluent</a></li><li name="e434" id="e434" class="graf graf--li graf-after--li"><a href="https://upstash.com/" data-href="https://upstash.com/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">upstash</a></li><li name="e9a0" id="e9a0" class="graf graf--li graf-after--li"><a href="https://ably.com/" data-href="https://ably.com/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">ably</a></li><li name="77d5" id="77d5" class="graf graf--li graf-after--li"><a href="https://solace.com/" data-href="https://solace.com/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">solace</a></li></ul><h3 name="af2d" id="af2d" class="graf graf--h3 graf-after--li">Stream Processor</h3><p name="a9e7" id="a9e7" class="graf graf--p graf-after--h3">A stream processor, as the name implies, is a role that handles streams. It must have scalability, availability, and fault tolerance, and the ability to support various data sources and sinks is also an important consideration.</p><p name="33f9" id="33f9" class="graf graf--p graf-after--p">The <a href="https://flink.apache.org/" data-href="https://flink.apache.org/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Apache Flink</a>, which is often mentioned, is one of these options, and there are many others.</p><h4 name="0421" id="0421" class="graf graf--h4 graf-after--p"><strong class="markup--strong markup--h4-strong"><em class="markup--em markup--h4-em">Open Source</em></strong></h4><ul class="postList"><li name="b0d4" id="b0d4" class="graf graf--li graf-after--h4"><a href="https://kafka.apache.org/documentation/streams/" data-href="https://kafka.apache.org/documentation/streams/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Apache Kafka Streams</a></li><li name="6400" id="6400" class="graf graf--li graf-after--li"><a href="https://ksqldb.io/" data-href="https://ksqldb.io/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">ksqlDB</a></li><li name="863a" id="863a" class="graf graf--li graf-after--li"><a href="https://beam.apache.org/" data-href="https://beam.apache.org/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Apache Beam</a>: Streaming framework which can be run on several runner such as Apache Flink and GCP Dataflow</li><li name="50dc" id="50dc" class="graf graf--li graf-after--li"><a href="https://materialize.com/" data-href="https://materialize.com/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Materialize</a>: Streaming database like ksqlDB and based on Postgres</li><li name="4695" id="4695" class="graf graf--li graf-after--li"><a href="https://memgraph.com/" data-href="https://memgraph.com/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">MEM GRAPH</a>: Graph database built for real-time streaming and compatible with Neo4j</li><li name="93a7" id="93a7" class="graf graf--li graf-after--li"><a href="https://bytewax.io/" data-href="https://bytewax.io/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">bytewax</a>: Python framework</li><li name="60a3" id="60a3" class="graf graf--li graf-after--li"><a href="https://faust-streaming.github.io/faust/" data-href="https://faust-streaming.github.io/faust/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Faust</a>: Python framework</li></ul><h4 name="f43a" id="f43a" class="graf graf--h4 graf-after--li"><strong class="markup--strong markup--h4-strong"><em class="markup--em markup--h4-em">Managed Service</em></strong></h4><ul class="postList"><li name="6b81" id="6b81" class="graf graf--li graf-after--h4">GCP Dataflow</li><li name="0091" id="0091" class="graf graf--li graf-after--li"><a href="https://www.deltastream.io/" data-href="https://www.deltastream.io/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">DELTA STREAM</a></li><li name="bf26" id="bf26" class="graf graf--li graf-after--li"><a href="https://www.quix.io/" data-href="https://www.quix.io/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Quix</a></li></ul><h3 name="9ed7" id="9ed7" class="graf graf--h3 graf-after--li">Serving Layer</h3><p name="6ad6" id="6ad6" class="graf graf--p graf-after--h3">The function of the serving layer is to persist the results of the stream processing and make them easily available to users. Therefore, it must have two important conditions, first, a large throughput, and second, the ability to support more complex query operations.</p><p name="6dac" id="6dac" class="graf graf--p graf-after--p">In general, there are two different approaches, one is to choose a common NoSQL database, such as <a href="https://www.mongodb.com/home" data-href="https://www.mongodb.com/home" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">MongoDB</a>, <a href="https://www.elastic.co/" data-href="https://www.elastic.co/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">ElasticSearch</a> or <a href="https://cassandra.apache.org/_/index.html" data-href="https://cassandra.apache.org/_/index.html" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Apache Cassandra</a>. All of these NoSQL databases have good scalability and can support complex queries. In addition, these databases are very mature, so the learning curve is low for both use and operation.</p><p name="3a29" id="3a29" class="graf graf--p graf-after--p">In addition, there are also some NoSQL databases rising up for low latency and big data, e.g., <a href="https://www.scylladb.com/" data-href="https://www.scylladb.com/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">SCYLLA</a>.</p><p name="4ce0" id="4ce0" class="graf graf--p graf-after--p">On the other hand, there are many newcomers to the SQL family. These new SQL-compatible databases have a completely different implementation logic than traditional relational databases, and thus have a high throughput and can even interact directly with stream platforms.</p><p name="db04" id="db04" class="graf graf--p graf-after--p">Moreover, these databases have the scalability that traditional RDBMSs do not have, and can still have low query latency in big data scenarios.</p><ul class="postList"><li name="0e13" id="0e13" class="graf graf--li graf-after--p"><a href="https://pinot.apache.org/" data-href="https://pinot.apache.org/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Apache Pinot</a></li><li name="e986" id="e986" class="graf graf--li graf-after--li"><a href="https://druid.apache.org/" data-href="https://druid.apache.org/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Apache Druid</a></li><li name="4b89" id="4b89" class="graf graf--li graf-after--li"><a href="https://clickhouse.com/" data-href="https://clickhouse.com/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">ClickHouse</a></li><li name="c267" id="c267" class="graf graf--li graf-after--li"><a href="https://rockset.com/" data-href="https://rockset.com/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">ROCKSET</a></li></ul><h3 name="53b0" id="53b0" class="graf graf--h3 graf-after--li">Frontend</h3><p name="cac4" id="cac4" class="graf graf--p graf-after--h3">The most common in the frontend is still to build services using common web frameworks, such as these three most commonly frameworks.</p><ul class="postList"><li name="cff5" id="cff5" class="graf graf--li graf-after--p"><a href="https://angularjs.org/" data-href="https://angularjs.org/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">AngularJS</a></li><li name="7031" id="7031" class="graf graf--li graf-after--li"><a href="https://vuejs.org/" data-href="https://vuejs.org/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Vue.js</a></li><li name="d374" id="d374" class="graf graf--li graf-after--li"><a href="https://reactjs.org/" data-href="https://reactjs.org/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">React</a></li></ul><p name="4dcc" id="4dcc" class="graf graf--p graf-after--li">Furthermore, low-code frameworks are becoming popular in recent years. Low code means developers only need to write a small amount of code to use plenty of pre-defined functions, which can significantly shorten the development time and speed up the release.</p><p name="7679" id="7679" class="graf graf--p graf-after--p">In order to make the data more real-time, the purpose is to make the value of the data as early as possible, so agile development in the production environment is also a reasonable consideration. Here are two popular low-code frameworks.</p><ul class="postList"><li name="d189" id="d189" class="graf graf--li graf-after--p"><a href="https://streamlit.io/" data-href="https://streamlit.io/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Streamlit</a></li><li name="40e5" id="40e5" class="graf graf--li graf-after--li"><a href="https://dash.plotly.com/" data-href="https://dash.plotly.com/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Dash</a></li></ul><p name="5a8d" id="5a8d" class="graf graf--p graf-after--li">Finally, there are various data visualization platforms.</p><ul class="postList"><li name="2f65" id="2f65" class="graf graf--li graf-after--p"><a href="https://superset.apache.org/" data-href="https://superset.apache.org/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Apache Superset</a></li><li name="4c26" id="4c26" class="graf graf--li graf-after--li"><a href="https://www.metabase.com/" data-href="https://www.metabase.com/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Metabase</a></li><li name="007f" id="007f" class="graf graf--li graf-after--li"><a href="https://redash.io/" data-href="https://redash.io/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">redash</a></li><li name="f4c0" id="f4c0" class="graf graf--li graf-after--li">PowerBI</li></ul><h3 name="5947" id="5947" class="graf graf--h3 graf-after--li">Conclusion</h3><p name="e651" id="e651" class="graf graf--p graf-after--h3">Although this article lists a lot of targets for technical selection, there are definitely others that I haven’t listed, which may be either outdated, less-used options such as <a href="https://storm.apache.org/" data-href="https://storm.apache.org/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Apache Storm</a> or out of my radar from the beginning, like Java ecosystem.</p><p name="71b2" id="71b2" class="graf graf--p graf-after--p">Besides, I did not put links to the three major public cloud platforms that are already relatively mature (AWS, GCP, Azure), because those can be found in many resources on the Internet at any time.</p><p name="0802" id="0802" class="graf graf--p graf-after--p">Even though these technical stacks are listed by category, some fields actually overlap. For example, although <a href="https://materialize.com/" data-href="https://materialize.com/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Materialize</a> is classified as a stream processor, it makes sense to treat as a serving layer because it is essentially a streaming database, and the same is true for <a href="https://ksqldb.io/" data-href="https://ksqldb.io/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">ksqlDB</a>.</p><p name="258a" id="258a" class="graf graf--p graf-after--p">Each project has its own strengths and applications. When making a choice, it is important to consider the existing practices and stacks within the organization, as well as the objectives that you want to accomplish, so that you can find the right answer among the many options.</p><p name="2b9e" id="2b9e" class="graf graf--p graf-after--p graf--trailing">If there is a project I didn’t list and you feel it is worth mentioning, please feel free to leave me a comment and I will find time to survey it.</p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@lazypro" class="p-author h-card">Chunting Wu</a> on <a href="https://medium.com/p/73c597ed05ee"><time class="dt-published" datetime="2022-12-05T01:45:44.636Z">December 5, 2022</time></a>.</p><p><a href="https://medium.com/@lazypro/real-time-data-infra-stack-73c597ed05ee" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on October 21, 2024.</p></footer></article></body></html>